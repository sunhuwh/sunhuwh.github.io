---
layout: post
title: 控制器
date: 2012-11-12 00:38
categories: [NEW Thinkphp]
tags: []
---
·action类的操作流程是首先判断是否存在action累的公共方法，如果不存在则会寻找父类中的方法，如果依然不存在则会寻找是否存在自动匹配的模板文件，存在则让模板输出。所以一模板对应一操作。操作方法必须定义为Public类型的。


·默认模块和默认操作通过DEFAULT_MODULE和DEFAULT_ACTION来定义的。


·每个分组都有独立的配置文件、公共文件、语言包。模块分组功能是为了更好的组织已有的模块，并且增加项目容量的一个有效机制。分组功能能把以往多个项目合并到一个项目中去，这样可以避免采取跨项目操作带来的麻烦。要启用分组模块非常简单，配置APP_GROUP_LIST参数和DEFAULT_GROUP参数即可。假如我们分为Admin和Home，Home为默认分组，url的访问将变成：http://servername/index,php/Admin


·URL伪静态，就是在url的最后增加你想要的静态后缀。如，我们设置RUL_HTML_SUFFIX为,shtml的话。


·为了配合使用的URL模式，我们需要能够动态的将当前的URL设置成对应的URL地址。使用U方法，用于其动态生成。其定义的规则是：
U('[项目名://][路由@][分组名-模块/]操作?参数1=值1[&参数2=值2....]')用[]括起来的可要可不要。


·url大小写问题，如果在Linux环境下面会出现大小写不正确而导致系统找不到文件。这是我们需要增加配置：'URL_CASE_INSENSITIVE'=>true就可以实现不区分大小写了。额，但是随之而来的，又出现了个问题，如果我们定义了userTypeAction的模块类，那么URL的访问应该是：省略/index.php/user_type/list而不是usertype。


·空操作，当我们找不到指定的方法的时候会调用空操作(_empty)方法。这样有利于我们实现错误页面和URL优化。只需要给该类定一个_empty()方法就行了。


·空模块,当系统找不到指定的模块名称的时候，系统会定位到控模块中去，这样又可以实现错误页面或者URL的优化了。只需要定义一个EmptyAction类。
   