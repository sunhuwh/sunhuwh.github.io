---
layout: post
title: java I/O
date: 2015-08-24 00:15
categories: [java]
tags: [java, 性能, I-O]
---
I/O，即input/outPut。
在java1.4的时候有了了NIO。
NIO相比I/O的不同在与阻塞和非阻塞。
同步并阻塞（I/O）:当客户端发送一个请求给服务端时，必须启动一个线程进行处理，这个进行需要全程管理Socket，知道Socket结束为止。
这种方式在连接比较少的时候性能还是挺强的。但是当连接比较多，进程也会随之增多，最终导致系统资源浪费，性能下降。
而NIO在这方面进行了调整。NIO：同步非阻塞。
当客户端发送一个请求到服务器端时，发送的请求都会注册到多路复用器上，多路复用器轮询到连接有I/O请求时才启动一个进行进行处理。NIO是面向缓冲区的，非阻塞式，基于选择器。用一个线程来轮询多个数据传输通道，哪个通道准备好了，就开始处理这个通道了。服务端会保存一个Socket连接列表，然后对这个列表进行轮询，当发现Socket端口有数据可读，就调用该Socket进行读操作，写操作也是这样的。当轮询到某个Socket端口中断时，就可以调用析构方法关闭该端口。这样就省了很多进程，效率大大提高。
