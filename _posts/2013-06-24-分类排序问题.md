---
layout: post
title: 分类排序问题
date: 2013-06-24 00:12
categories: [札记, SSH]
tags: []
---
以前为了分类里面的排序问题，就直接加了个字段small_id，在添加的时候这个字段的值是与id相同的，在排序的时候是按照这个small_id。但是由于不知晓id的值，这个small_id又要与其相同，于是就想了个办法，直接设置id。也就是得到上一条记录的id，下面设置ID的时候就是id+1。但是现在想过来觉得很不对。因为如果有两个人在这段时间同时添加数据，那这个时候会出现多个id相同的问题出来，因为id是自己手动设置的，所以很容易出问题。所以此方法不适合。

可以稍微改变下。这样想，我得到上条记录的small_id，然后以后要添加的时候就直接在上条记录基础上+1就行了。根本就无需与那个id比较。得到的记录必须属于该用户的。
